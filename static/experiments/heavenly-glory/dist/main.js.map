{
  "version": 3,
  "sources": ["../src/scripts/engine/motionDetector.js", "../src/scripts/engine/audioUtils.js", "../src/scripts/engine/music.js", "../src/scripts/engine/outputEffect.js", "../src/scripts/engine/sfx.js", "../src/scripts/engine/engine.js", "../src/scripts/sequencer.js", "../src/scripts/main.js"],
  "sourcesContent": ["/**\n * The Motion Detector module takes a canvas context as an input to the\n * `analyze()` method, and examines any motion that has occurred since the last\n * call to `analyze()`.\n *\n * The constructor takes an options object which can be used to specify the width and height of the\n * target canvas, and the number of regions to split the canvas into for purposes of detecting motion in\n * each discrete region.\n *\n * The essence of this object was taken directly from https://github.com/ReallyGood/js-motion-detection,\n * which in turn is an implementation of the code used in the \"Magic Xylophone\" demo by @soundstep. Read his\n * article about the technique here: http://www.adobe.com/devnet/archive/html5/articles/javascript-motion-detection.html\n *\n * @param userOptions\n * @returns {{analyze: analyze}}\n * @constructor\n */\nexport const motionDetector = (function() {\n\n    var module = {},\n        canvasBlend,\n        contextBlend,\n        contextScale,\n        lastImageData,\n        regions = [],\n        maxPixelCount = [],\n        w,\n        h,\n        options,\n        defaultOptions = {\n            width: 320,\n            height: 240,\n            horizontalRegions: 3,\n            verticalRegions: 3,\n            displayDebugCanvas: true,\n            sensitivity: 50\n        };\n\n    /**\n     * Initialize the motion detector module and specify options.\n     * @param userOptions\n     */\n    module.init = function(userOptions) {\n        options = mergeOptions(userOptions, defaultOptions);\n        w = options.width;\n        h = options.height;\n        createBlendCanvas();\n        createScaleCanvas();\n        createRegions(options.horizontalRegions, options.verticalRegions);\n    };\n\n    module.setSensitivity = function(val) {\n        if (0 <= val && val <= 100) {\n            if (typeof options === 'undefined') {\n                defaultOptions.sensitivity = val;\n            } else {\n                options.sensitivity = val;\n            }\n        }\n    };\n\n    /**\n     * Given a canvas context, compare the current frame against the frame from the last call to this function, and\n     * return an array of the percentage of changed pixels in each region of the canvas.\n     *\n     * The second argument, if true, outputs the data to the blend canvas for debug purposes.\n     *\n     * @param contextOut\n     * @param showDebugData\n     * @returns {Array}\n     */\n    module.analyze = function(contextOut, showDebugData) {\n        var motionByRegion,\n            motionData,\n            scaledContext;\n\n        scaledContext = scaleContextOut(contextOut);\n        motionData = doBlend(scaledContext);\n        motionByRegion = detectMotionByRegion(motionData.data);\n\n        if (showDebugData) {\n            contextBlend.canvas.style.display = 'block';\n            contextBlend.putImageData(motionData, 0, 0);\n            drawRegions(motionByRegion);\n        } else {\n            contextBlend.canvas.style.display = 'none';\n        }\n\n        return motionByRegion;\n    };\n\n    /**\n     * Merge any user options with the defaultOptions and return the resulting object.\n     *\n     * @param userOptions\n     * @param defaultOptions\n     * @returns {{}}\n     */\n    function mergeOptions(userOptions, defaultOptions) {\n        var mergedOptions = {};\n        userOptions = userOptions || {};\n\n        for (var option in defaultOptions) {\n            if (defaultOptions.hasOwnProperty(option)) {\n                mergedOptions[option] = typeof userOptions[option] !== 'undefined' ? userOptions[option] : defaultOptions[option];\n            }\n        }\n\n        return mergedOptions;\n    }\n\n    /**\n     * Creates the canvas which will be used to draw out the diff between one frame and the next. This canvas will not be attached to the\n     * DOM unless the motionDetector object was initialised with the displayDebugCanvas option set to true.\n     */\n    function createBlendCanvas() {\n        canvasBlend = document.createElement('canvas');\n        canvasBlend.setAttribute('id', 'canvas-blend');\n        canvasBlend.setAttribute('width', w);\n        canvasBlend.setAttribute('height', h);\n        contextBlend = canvasBlend.getContext('2d');\n\n        if (options.displayDebugCanvas) {\n            document.body.appendChild(canvasBlend);\n        }\n    }\n\n    /**\n     * This context is used to scale the video feed canvas (contextOut) down to the same size as the\n     * blend canvas, so we can sample the entire image but at a much smaller resolution, allowing for faster\n     * calculation of the motion regions.\n     */\n    function createScaleCanvas() {\n        var c = document.createElement('canvas');\n        c.setAttribute('width', w);\n        c.setAttribute('height', h);\n        contextScale = c.getContext('2d');\n    }\n\n\n    /**\n     * The blend canvas is divided up into n * m regions. Each region is an array in the form:\n     * [ originX, originY, width, height ]\n     * The regions are stored in the `regions` array.\n     */\n    function createRegions(n, m) {\n        var width = Math.floor(w / n),\n            height = Math.floor(h / m),\n            originX,\n            originY;\n\n        for (originY = 0; originY <= h - height; originY += height) {\n            for (originX = 0; originX <= w - width; originX += width) {\n                regions.push([ originX, originY, width, height]);\n            }\n        }\n    }\n\n    /**\n     * For debug purposes, overlay the blend canvas with the grid and highlight the regions in which motion is occurring.\n     *\n     * @param motionByRegion\n     */\n    function drawRegions(motionByRegion) {\n        var alpha,\n            pixelCount,\n            r,\n            region;\n\n        contextBlend.strokeStyle = 'red';\n\n        for (r = regions.length - 1; 0 <= r; r-- ) {\n            region = regions[r];\n            if (!maxPixelCount[r] || maxPixelCount[r] < motionByRegion[r]) {\n                maxPixelCount[r] = motionByRegion[r];\n            }\n            pixelCount = maxPixelCount[r];\n            alpha = pixelCount / 100;\n\n            contextBlend.beginPath();\n            contextBlend.rect(region[0], region[1], region[2], region[3]);\n            contextBlend.fillStyle = 'rgba(255, 100, 100, ' + alpha + ')';\n            contextBlend.fill();\n            contextBlend.stroke();\n\n            if (5 < maxPixelCount[r]) {\n                maxPixelCount[r] -= 2;\n            }\n        }\n    }\n\n    /**\n     * Examine the blend data to identify how many white pixels are in each region. Returns an array of values,\n     * each value signifying the percentage of white pixels in the region at the same index.\n     *\n     * @param data\n     * @returns {Array}\n     */\n    function detectMotionByRegion(data) {\n        var i,\n            r,\n            region,\n            totalWhitePixels = 0,\n            whitePixelsByRegion = [],\n            pixelsPerRegion,\n            motionByRegion = [];\n\n        for (r = regions.length - 1; 0 <= r; r-- ) {\n            whitePixelsByRegion[r] = 0;\n        }\n\n        i = 0;\n        while (i < (data.length * 0.25)) {\n            if (data[i * 4] === 255) {\n                region = getRegion(i);\n                whitePixelsByRegion[region] ++;\n                totalWhitePixels ++;\n            }\n            ++i;\n        }\n\n        // now convert the pixel count to a percentage of the total pixels in the region\n        pixelsPerRegion = regions[0][2] * regions[0][3];\n        for (r = regions.length - 1; 0 <= r; r-- ) {\n            motionByRegion[r] = whitePixelsByRegion[r] / pixelsPerRegion * 100;\n        }\n\n        return motionByRegion;\n    }\n\n    function getRegion(pos) {\n        var i = pos,\n            regionWidth = regions[0][2],\n            regionHeight = regions[0][3],\n            regionsPerRow = Math.floor(w/regionWidth),\n            columnPos = (i % w === 0 ? w : i % w) - 1,\n            columnIndex = Math.floor(columnPos / regionWidth),\n            rowIndex = Math.floor(Math.floor(i / w) / regionHeight);\n\n        return columnIndex + rowIndex * regionsPerRow;\n    }\n\n    /**\n     * Take the current canvas frame and compare it to the last, returning the result of the blend as an ImageData\n     * object.\n     *\n     * @param contextOut\n     * @returns {ImageData}\n     */\n    function doBlend(contextOut) {\n        var blendedData,\n            sourceData = contextOut.getImageData(0, 0, w, h);\n\n        // create an image if the previous image doesn\u2019t exist\n        if (!lastImageData) {\n            lastImageData = contextOut.getImageData(0, 0, w, h);\n        }\n        // create a ImageData instance to receive the blended result\n        blendedData = contextOut.createImageData(w, h);\n        // blend the 2 images\n        differenceAccuracy(blendedData.data, sourceData.data, lastImageData.data);\n        lastImageData = sourceData;\n\n        return blendedData;\n        //return sourceData;\n    }\n\n    function differenceAccuracy(target, data1, data2) {\n        var i;\n        if (data1.length != data2.length) {\n            return null;\n        }\n        i = 0;\n        while (i < (data1.length * 0.25)) {\n            var average1 = (data1[4 * i] + data1[4 * i + 1] + data1[4 * i + 2]) / 3;\n            var average2 = (data2[4 * i] + data2[4 * i + 1] + data2[4 * i + 2]) / 3;\n            var diff = threshold(fastAbs(average1 - average2));\n            target[4 * i] = diff;\n            target[4 * i + 1] = diff;\n            target[4 * i + 2] = diff;\n            target[4 * i + 3] = 255;\n            ++i;\n        }\n    }\n\n    /**\n     * A fast version of Math.abs()\n     * @param value\n     * @returns {number}\n     */\n    function fastAbs(value) {\n        return (value ^ (value >> 31)) - (value >> 31);\n    }\n\n    /**\n     * Convert the pixel value to either black (0) or white (255) depending on whether the value\n     * is above or below the threshold, as specified in options.sensitivity.\n     * @param value\n     * @returns {number}\n     */\n    function threshold(value) {\n        return (value > options.sensitivity) ? 255 : 0;\n    }\n\n    function scaleContextOut(contextOut) {\n        contextScale.drawImage(contextOut.canvas, 0, 0, w, h);\n        return contextScale;\n    }\n\n    return module;\n\n})();\n", "/**\n * Created by Michael on 29/11/2014.\n */\n\n\n/**\n * Object representing a sound sample, containing all audio nodes and a play method.\n *\n * @param buffer\n * @param context\n * @param defaultOutputNode\n * @constructor\n */\nexport function Sound(buffer, context, defaultOutputNode) {\n    var source,\n        defaultOutputNode = defaultOutputNode || context.destination,\n        gain = context.createGain(),\n        playbackRate = 1;\n\n\n    this.setPlaybackRate = function(value) {\n        playbackRate = value;\n    };\n\n    this.setGain = function(value) {\n        if (0 <= value && value <= 1) {\n            gain.gain.value = value;\n        }\n    };\n\n    this.play = function(outputNode, loop, onEnded) {\n        outputNode = outputNode || defaultOutputNode;\n        loop = loop || false;\n        source = context.createBufferSource();\n        source.buffer = buffer;\n        source.playbackRate.value = playbackRate;\n        if (loop) {\n            source.loop = true;\n        }\n        source.connect(gain);\n        gain.connect(outputNode);\n\n        if (onEnded) {\n            source.onended = onEnded;\n        }\n\n        source.start();\n    };\n\n    this.stop = function() {\n        source?.stop();\n    };\n}\n\n/**\n * Taken from http://www.html5rocks.com/en/tutorials/webaudio/intro/\n * @param context\n * @param urlList\n * @param callback\n * @constructor\n */\nexport function BufferLoader(context, urlList, callback) {\n    this.context = context;\n    this.urlList = urlList;\n    this.onload = callback;\n    this.bufferList = [];\n    this.loadCount = 0;\n}\n\nBufferLoader.prototype.loadBuffer = function(url, index) {\n    // Load buffer asynchronously\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = \"arraybuffer\";\n\n    var loader = this;\n\n    request.onload = function() {\n        // Asynchronously decode the audio file data in request.response\n        loader.context.decodeAudioData(\n            request.response,\n            function(buffer) {\n                if (!buffer) {\n                    alert('error decoding file data: ' + url);\n                    return;\n                }\n                loader.bufferList[index] = buffer;\n                if (++loader.loadCount == loader.urlList.length) {\n                    loader.onload(loader.bufferList);\n                }\n            },\n            function(error) {\n                console.error('decodeAudioData error', error);\n            }\n        );\n    };\n\n    request.onerror = function() {\n        alert('BufferLoader: XHR error');\n    };\n\n    request.send();\n};\n\nBufferLoader.prototype.load = function() {\n    for (var i = 0; i < this.urlList.length; ++i) {\n        this.loadBuffer(this.urlList[i], i);\n    }\n};\n", "/**\n * Created by Michael on 29/11/2014.\n */\nimport {BufferLoader, Sound} from './audioUtils.js';\n\nexport const music = (function () {\n\n    var module = {},\n        masterGain,\n        context,\n        musicLoop,\n        gain = 1;\n\n\n    module.load = function (initialVolume) {\n        window.AudioContext = window.AudioContext || window.webkitAudioContext;\n        if (window.AudioContext) {\n            context = new AudioContext();\n            masterGain = context.createGain();\n            masterGain.connect(context.destination);\n        }\n\n        var bufferLoader = new BufferLoader(\n            context,\n            ['assets/audio/music-loop-01.ogg'],\n            finishedLoading\n        );\n        gain = initialVolume;\n        bufferLoader.load();\n    };\n\n    function finishedLoading(bufferList) {\n        musicLoop = new Sound(bufferList[0], context, masterGain);\n        musicLoop.setGain(gain);\n    }\n\n    module.play = function () {\n        if (typeof musicLoop !== 'undefined') {\n            musicLoop.play(null, true);\n        }\n    };\n\n    module.setVolume = function (val) {\n        if (0 <= val && val <= 1) {\n            gain = val;\n            musicLoop.setGain(gain);\n        }\n    };\n\n    module.fadeOut = function () {\n        fadeOut();\n    };\n\n    function fadeOut() {\n        var decrement = 0.05;\n        if (decrement <= gain) {\n            gain -= decrement;\n            module.setVolume(gain);\n            setTimeout(fadeOut, 700);\n        } else {\n            musicLoop.stop();\n        }\n    }\n\n    return module;\n\n})();\n", "/**\n * This module adds a red \"blood\" blend overlay to the output when the motion activity\n * goes above a certain threshold.\n */\nexport const outputEffect = (function() {\n\n    var module = {},\n        contextOut,\n        alpha = 0,\n        activity = 0,\n        w,\n        h,\n        ACTIVITY_THRESHOLD = 100;\n\n    module.init = function(outputCanvas, width, height) {\n        w = width;\n        h = height;\n        contextOut = outputCanvas.getContext('2d');\n    };\n\n    module.drawOverlay = function(motionData) {\n        var intensity = 0;\n\n        motionData.forEach(function(motionValue) {\n            if (intensity < motionValue) {\n                intensity = motionValue;\n            }\n        });\n\n        if (90 < intensity) {\n            activity += ACTIVITY_THRESHOLD;\n        } else if (70 < intensity) {\n            activity += intensity;\n        }\n\n\n        if (ACTIVITY_THRESHOLD < activity) {\n            activity -= ACTIVITY_THRESHOLD;\n            alpha = 1;\n        }\n\n        if (0 < alpha) {\n            contextOut.fillStyle = 'hsla(0, 100%, 50%, ' + alpha + ')';\n            contextOut.globalCompositeOperation = 'darken';\n            contextOut.fillRect(0, 0, w, h);\n            contextOut.globalCompositeOperation = 'source-over';\n        }\n\n\n        if (0.05 < alpha) {\n            alpha -= 0.01;\n        } else {\n            alpha = 0;\n        }\n        if (5 < activity) {\n            activity -= 10;\n        } else {\n            activity = 0;\n        }\n    };\n\n    return module;\n\n})();\n", "import {BufferLoader, Sound} from './audioUtils.js';\n\nexport const sfx = (function () {\n\n    var module = {},\n        sounds = {},\n        masterGain,\n        context,\n        areaWidth = 640,\n        areaHeight = 480;\n\n    module.loadSounds = function () {\n        // Fix up prefixing\n        window.AudioContext = window.AudioContext || window.webkitAudioContext;\n        if (window.AudioContext) {\n            context = new AudioContext();\n            masterGain = context.createGain();\n            masterGain.connect(context.destination);\n        }\n\n        var bufferLoader = new BufferLoader(\n            context,\n            [\n                'assets/audio/swoosh-soft-01.ogg',\n                'assets/audio/swoosh-soft-02.ogg',\n                'assets/audio/swoosh-soft-03.ogg',\n                'assets/audio/swoosh-hard-01.ogg',\n                'assets/audio/swoosh-hard-02.ogg',\n                'assets/audio/swoosh-hard-03.ogg',\n                'assets/audio/swoosh-hard-04.ogg',\n                'assets/audio/swoosh-hard-05.ogg',\n                'assets/audio/swoosh-hard-06.ogg',\n                'assets/audio/punch-hard-01.ogg',\n                'assets/audio/punch-hard-02.ogg',\n                'assets/audio/punch-hard-03.ogg',\n                'assets/audio/punch-hard-04.ogg',\n                'assets/audio/punch-hard-05.ogg',\n                'assets/audio/punch-hard-06.ogg',\n                'assets/audio/punch-hard-07.ogg'\n            ],\n            finishedLoading\n        );\n\n        bufferLoader.load();\n    };\n\n    function finishedLoading(bufferList) {\n        // create the various soundsets from the loaded samples\n        sounds.swooshSoft = addSoundsFromBufferList(bufferList, 0, 2);\n        sounds.swooshHard = addSoundsFromBufferList(bufferList, 3, 8);\n        sounds.punchHard = addSoundsFromBufferList(bufferList, 9, 15);\n    }\n\n    function addSoundsFromBufferList(bufferList, start, end) {\n        var i,\n            newSound,\n            soundSet = new SoundSet();\n\n        for (i = start; i <= end; i++) {\n            newSound = new Sound(bufferList[i], context, masterGain);\n            soundSet.addSound(newSound);\n        }\n\n        return soundSet;\n    }\n\n    /**\n     * Sets the dimensions of the space in which the sfx occur, which affects how much sounds\n     * are panned.\n     *\n     * @param width\n     * @param height\n     */\n    module.setAreaDimensions = function (width, height) {\n        areaWidth = width;\n        areaHeight = height;\n    };\n\n    module.setGain = function (value) {\n        masterGain.gain.value = value;\n    };\n\n\n    module.generate = function (motionData) {\n        var playSwooshHard = {},\n            playSwooshSoft = {},\n            playPunch = {};\n\n        motionData.forEach(function (motionValue, i) {\n            if (60 < motionValue) {\n                playPunch.triggered = true;\n                playPunch.volume = motionValue / 100;\n                playPunch.pan = regionIndexToPanCoordinates(i);\n            }\n            if (50 < motionValue) {\n                playSwooshHard.triggered = true;\n                playSwooshHard.volume = motionValue / 100;\n                playSwooshHard.pan = regionIndexToPanCoordinates(i);\n            }\n            if (30 < motionValue) {\n                playSwooshSoft.triggered = true;\n                playSwooshSoft.volume = motionValue / 100;\n                playSwooshSoft.pan = regionIndexToPanCoordinates(i);\n            }\n        });\n\n        if (playPunch.triggered) {\n            sounds.punchHard?.trigger(playPunch.volume, playPunch.pan.x, playPunch.pan.y);\n        } else if (playSwooshHard.triggered) {\n            sounds.swooshHard?.trigger(playSwooshHard.volume, playSwooshHard.pan.x, playSwooshHard.pan.y);\n        } else if (playSwooshSoft.triggered) {\n            sounds.swooshSoft?.trigger(playSwooshSoft.volume, playSwooshSoft.pan.x, playSwooshSoft.pan.y);\n        }\n    };\n\n    /**\n     * Convert the region index i to a set of {x, y} coordinates relative to the centre of the\n     * sound area.\n     *\n     * @param i\n     * @returns {{x: number, y: number}}\n     */\n    function regionIndexToPanCoordinates(i) {\n        var x, y;\n\n        if (i <= 2) {\n            y = -1;\n        } else if (i <= 5) {\n            y = 0;\n        } else {\n            y = 1;\n        }\n\n        if (i % 3 === 0) {\n            x = -1;\n        } else if ((i - 1) % 3 === 0) {\n            x = 0;\n        } else {\n            x = 1;\n        }\n\n        return {\n            x: x,\n            y: y\n        };\n    }\n\n    return module;\n})();\n\n/**\n * Object representing a collection of Sounds which are grouped as one \"set\", i.e. variations on the same\n * sound, which can be randomly selected to give a sense of variation.\n *\n */\nfunction SoundSet() {\n    var sounds = [],\n        isPlaying = false;\n\n    this.addSound = function (item) {\n        sounds.push(item);\n    };\n\n    this.trigger = function (volume, x, y) {\n        var randomSound;\n\n        if (!isPlaying) {\n            randomSound = sounds[Math.floor(Math.random() * sounds.length)];\n            randomSound.setGain(volume);\n            // randomSound.setPosition(0, 0, 0);\n            randomSound.play(null, null, soundEnded);\n            isPlaying = true;\n        }\n    };\n\n    function soundEnded() {\n        isPlaying = false;\n    }\n}\n", "\nimport { motionDetector } from './motionDetector.js';\nimport { music } from './music.js';\nimport { outputEffect } from './outputEffect.js';\nimport { sfx } from './sfx.js';\n\n/**\n * The hgEngine (heavenly-glory-engine) object ties together the video capture via `getUserMedia()`, the motion\n * detection, and the triggering of sound effects via the Web Audio API in response to detected motion.\n *\n */\nexport const hgEngine = (function() {\n\n    var module = {},\n        isStreaming = false,\n        video,\n        canvasOut,\n        contextOut,\n        w,\n        h,\n        showDebugCanvas = false;\n\n    /**\n     * Check to see if the browser supports the two key technologies required for the engine to run:\n     * Web Audio and GetUserMedia.\n     */\n    module.browserSupportCheck = function() {\n        if (!window.AudioContext && !window.webkitAudioContext) {\n            return false;\n        }\n        if (!(navigator.getUserMedia ||\n                navigator.webkitGetUserMedia ||\n                navigator.mozGetUserMedia ||\n                navigator.msGetUserMedia)) {\n            return false;\n        }\n        return true;\n    };\n\n    module.init = function(outputElement, width, height, onPlayCallback) {\n        w = width;\n        h = height;\n        canvasOut = outputElement;\n        contextOut = canvasOut.getContext('2d');\n        motionDetector.init();\n        outputEffect.init(canvasOut, w, h);\n        // sfx.loadSounds();\n        sfx.setGain(3);\n        // music.load(0.5);\n        createVideoElement();\n        startCapturing(onPlayCallback);\n    };\n\n    module.fadeOutMusic = function() {\n        music.fadeOut();\n    };\n\n    module.showDebugCanvas = function(val) {\n        if (typeof val !== 'undefined') {\n            showDebugCanvas = !!val;\n        } else {\n            return showDebugCanvas;\n        }\n    };\n\n    module.setSensitivity = function(val) {\n        var inverseVal = 100 - val;\n        motionDetector.setSensitivity(inverseVal);\n    };\n\n    function createVideoElement() {\n        var videoElement = document.createElement('video');\n        videoElement.setAttribute('id', 'video');\n        videoElement.setAttribute('width', w);\n        videoElement.setAttribute('height', h);\n        videoElement.style.display = 'none';\n        document.body.appendChild(videoElement);\n        video = videoElement;\n\n        video.addEventListener('canplay', function() {\n            if (!isStreaming) {\n                // videoWidth isn't always set correctly in all browsers\n                if (video.videoWidth > 0) {\n                    h = video.videoHeight / (video.videoWidth / w);\n                }\n                canvasOut.setAttribute('width', w);\n                canvasOut.setAttribute('height', h);\n                // Reverse the canvas image\n                contextOut.translate(w, 0);\n                contextOut.scale(-1, 1);\n                isStreaming = true;\n            }\n        }, false);\n\n        video.addEventListener('play', function() {\n            update();\n        }, false);\n    }\n\n    function startCapturing(onPlayCallback) {\n\n\n        navigator.mediaDevices.getUserMedia({ video: true, audio: false }).then(stream => {\n\n            video.srcObject = stream;\n                               video.play();\n                               music.play();\n                               if (onPlayCallback) {\n                                   onPlayCallback();\n                               }\n        });\n\n\n        // navigator.getUserMedia = (navigator.getUserMedia ||\n        // navigator.webkitGetUserMedia ||\n        // navigator.mozGetUserMedia ||\n        // navigator.msGetUserMedia);\n        // if (navigator.getUserMedia) {\n        //     // Request access to video only\n        //     navigator.getUserMedia({\n        //             video:true,\n        //             audio:false\n        //         },\n        //         function(stream) {\n        //             var url = window.URL || window.webkitURL;\n        //             video.src = url ? url.createObjectURL(stream) : stream;\n        //             video.play();\n        //             music.play();\n        //             if (onPlayCallback) {\n        //                 onPlayCallback();\n        //             }\n        //         },\n        //         function(error) {\n        //             alert('Something went wrong. (error code ' + error.code + ')');\n        //             return;\n        //         }\n        //     );\n        // } else {\n        //     alert('Sorry, the browser you are using doesn\\'t support getUserMedia');\n        //     return;\n        // }\n\n    }\n\n    /**\n     * The main animation loop. Draws the video to the canvas, detects motion and triggers sound effects.\n     */\n    function update() {\n        var motionData;\n\n        drawVideo();\n        motionData = motionDetector.analyze(contextOut, showDebugCanvas);\n        outputEffect.drawOverlay(motionData);\n        sfx.generate(motionData);\n        requestAnimationFrame(update);\n    }\n\n    function drawVideo() {\n\n        try {\n            contextOut.drawImage(video, 0, 0, video.width, video.height);\n        } catch (e) {\n            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\n                // Wait a bit before trying again; you may wish to change the\n                // length of this delay.\n                console.log('video exception caught' + Date.now().toString());\n                setTimeout(drawVideo, 10);\n            } else {\n                throw e;\n            }\n        }\n    }\n\n\n    return module;\n\n})();\n", "/**\n * Created by Michael on 29/11/2014.\n */\n\nexport const sequencer = (function() {\n\n    var module = {},\n        events = [],\n        startTime;\n\n    /**\n     * Register a callback function to be invoked after `time` milliseconds once the\n     * `start()` method has been called.\n     *\n     * @param time\n     * @param fn\n     */\n    module.registerEvent = function(time, fn) {\n        events.push({ time: time, fn: fn });\n    };\n\n    module.start = function() {\n        requestAnimationFrame(run);\n    };\n\n    function run(timestamp) {\n\n        var elapsed,\n            nextEvent;\n        if (typeof startTime === 'undefined') {\n            startTime = timestamp;\n        }\n\n        nextEvent = events[0];\n        elapsed = timestamp - startTime;\n\n        if (nextEvent.hasOwnProperty('time') && nextEvent.time < elapsed) {\n            nextEvent.fn.call(null);\n            events.shift();\n        }\n\n        if (0 < events.length) {\n            requestAnimationFrame(run);\n        }\n\n    }\n\n    return module;\n\n})();\n", "/**\n * Created by Michael on 21/11/2014.\n */\nimport { hgEngine } from './engine/engine.js';\nimport { motionDetector } from './engine/motionDetector.js';\nimport { music } from './engine/music.js';\nimport { outputEffect } from './engine/outputEffect.js';\nimport { sfx } from './engine/sfx.js';\nimport { sequencer } from './sequencer.js';\n\nreadTitles();\n\ndocument.querySelector('.start').addEventListener('click', function(e) {\n    e.preventDefault();\n\n    if (hgEngine.browserSupportCheck()) {\n        document.querySelector('.splash').classList.add('hidden');\n        document.querySelector('.loader').classList.remove('hidden');\n        setTimeout(function () {\n            document.querySelector('.loader').classList.remove('hidden');\n        }, 100);\n        setTitles();\n        initSequencer();\n        sfx.loadSounds();\n        music.load(0.5);\n        setTimeout(function () {\n            startMovie(onMovieStarted);\n        }, 3500);\n    } else {\n        document.querySelector('.splash').classList.remove('hidden');\n        document.querySelector('.no-support-warning').classList.remove('hidden');\n    }\n});\n\ndocument.querySelector('.settings-icon').addEventListener('click', function() {\n    document.querySelector('.settings-panel').classList.toggle('hidden');\n});\n\ndocument.querySelector('.display-debug').addEventListener('change', function() {\n    hgEngine.showDebugCanvas(document.querySelector('.display-debug').checked);\n});\n\ndocument.querySelector('.sensitivity-slider').addEventListener('change', function() {\n    var val = document.querySelector('.sensitivity-slider').value;\n    document.querySelector('.sensitivity-label').innerHTML = (val);\n    hgEngine.setSensitivity(val);\n});\n\nfunction onMovieStarted() {\n    sequencer.start();\n}\n\nfunction readTitles() {\n    var titles = decodeTitlesFromHash(),\n        movieName = titles[0] || 'Enter The Webcam',\n        actorName = titles[1] || 'This Person';\n\n    document.querySelector('.movie-name').innerHTML = (movieName);\n    document.querySelector('.actor-name').innerHTML = (actorName);\n}\n\nfunction setTitles() {\n    var movieName = document.querySelector('.movie-name').innerHTML,\n        actorName = document.querySelector('.actor-name').innerHTML;\n\n    document.querySelector('.movie-name-title').innerHTML = movieName;\n    document.querySelector('.actor-name-title').innerHTML = actorName;\n\n    encodeTitlesToHash(movieName, actorName);\n}\n\n/**\n * Base-64 encodes the movie name and actor name and pushes it to the URL hash, so that they can be shared via URL.\n * @param m\n * @param a\n */\nfunction encodeTitlesToHash(m, a) {\n    var mEncoded = utf8_to_b64(m),\n        aEncoded = utf8_to_b64(a);\n    window.location.hash = mEncoded + '|' + aEncoded;\n}\n\nfunction decodeTitlesFromHash() {\n    var hashParts,\n        mDecoded,\n        aDecoded;\n\n    hashParts = window.location.hash.split('|');\n    if (hashParts.length === 2) {\n        try {\n            mDecoded = b64_to_utf8(hashParts[0].substr(1));\n            aDecoded = b64_to_utf8(hashParts[1])\n        } catch (ex) {\n            console.log('Could not decode url: ' + ex.message);\n        }\n    }\n\n    return [mDecoded, aDecoded];\n}\n\nfunction startMovie(onPlayCallback) {\n    var outputCanvas = document.querySelector('#output');\n    var maxHeight = window.innerHeight;\n    var width = Math.min(window.innerWidth, maxHeight * 4 / 3);\n    var height = width * 0.75;\n    hgEngine.init(outputCanvas, width, height, onPlayCallback);\n}\n\nfunction initSequencer() {\n    sequencer.registerEvent(0, function() {\n        document.querySelector('.loader').classList.add('hidden');\n        document.querySelector('body').classList.add('theater');\n        document.querySelector('.output-container').classList.remove('hidden');\n        document.querySelector('.overlay').classList.remove('hidden');\n        document.querySelector('.settings-panel').classList.remove('hidden');\n        document.querySelector('.credits').classList.add('hidden');\n    });\n    sequencer.registerEvent(1500, function() {\n        document.querySelector('.title-hg').classList.remove('hidden');\n    });\n    sequencer.registerEvent(4000, function() {\n        document.querySelector('.title-hg').classList.add('hidden');\n    });\n    sequencer.registerEvent(6000, function() {\n        document.querySelector('.title-movie').classList.remove('hidden');\n    });\n    sequencer.registerEvent(9000, function() {\n        document.querySelector('.title-movie').classList.add('hidden');\n    });\n    sequencer.registerEvent(11000, function() {\n        document.querySelector('.title-actor').classList.remove('hidden');\n    });\n    sequencer.registerEvent(12000, function() {\n        document.querySelector('.overlay').classList.add('transparent');\n    });\n    sequencer.registerEvent(30000, function() {\n        document.querySelector('.overlay').classList.add('hidden');\n        hgEngine.fadeOutMusic();\n    });\n}\n\n/**\n * UTF-8-safe base64 encoding/decoding as given on MDN\n * https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64.btoa#Unicode_Strings\n * @param str\n * @returns {string}\n */\nfunction utf8_to_b64(str) {\n    return window.btoa(encodeURIComponent(escape(str)));\n}\n\nfunction b64_to_utf8(str) {\n    return unescape(decodeURIComponent(window.atob(str)));\n}\n"],
  "mappings": "MAiBO,GAAM,GAAkB,UAAW,CAEtC,GAAI,GAAS,GACT,EACA,EACA,EACA,EACA,EAAU,GACV,EAAgB,GAChB,EACA,EACA,EACA,EAAiB,CACb,MAAO,IACP,OAAQ,IACR,kBAAmB,EACnB,gBAAiB,EACjB,mBAAoB,GACpB,YAAa,IAOrB,EAAO,KAAO,SAAS,EAAa,CAChC,EAAU,EAAa,EAAa,GACpC,EAAI,EAAQ,MACZ,EAAI,EAAQ,OACZ,IACA,IACA,EAAc,EAAQ,kBAAmB,EAAQ,kBAGrD,EAAO,eAAiB,SAAS,EAAK,CAClC,AAAI,GAAK,GAAO,GAAO,KACnB,CAAI,MAAO,IAAY,YACnB,EAAe,YAAc,EAE7B,EAAQ,YAAc,IAelC,EAAO,QAAU,SAAS,EAAY,EAAe,CACjD,GAAI,GACA,EACA,EAEJ,SAAgB,EAAgB,GAChC,EAAa,EAAQ,GACrB,EAAiB,EAAqB,EAAW,MAEjD,AAAI,EACA,GAAa,OAAO,MAAM,QAAU,QACpC,EAAa,aAAa,EAAY,EAAG,GACzC,EAAY,IAEZ,EAAa,OAAO,MAAM,QAAU,OAGjC,GAUX,WAAsB,EAAa,EAAgB,CAC/C,GAAI,GAAgB,GACpB,EAAc,GAAe,GAE7B,OAAS,KAAU,GACf,AAAI,EAAe,eAAe,IAC9B,GAAc,GAAU,MAAO,GAAY,IAAY,YAAc,EAAY,GAAU,EAAe,IAIlH,MAAO,GAOX,YAA6B,CACzB,EAAc,SAAS,cAAc,UACrC,EAAY,aAAa,KAAM,gBAC/B,EAAY,aAAa,QAAS,GAClC,EAAY,aAAa,SAAU,GACnC,EAAe,EAAY,WAAW,MAElC,EAAQ,oBACR,SAAS,KAAK,YAAY,GASlC,YAA6B,CACzB,GAAI,GAAI,SAAS,cAAc,UAC/B,EAAE,aAAa,QAAS,GACxB,EAAE,aAAa,SAAU,GACzB,EAAe,EAAE,WAAW,MAShC,WAAuB,EAAG,EAAG,CACzB,GAAI,GAAQ,KAAK,MAAM,EAAI,GACvB,EAAS,KAAK,MAAM,EAAI,GACxB,EACA,EAEJ,IAAK,EAAU,EAAG,GAAW,EAAI,EAAQ,GAAW,EAChD,IAAK,EAAU,EAAG,GAAW,EAAI,EAAO,GAAW,EAC/C,EAAQ,KAAK,CAAE,EAAS,EAAS,EAAO,IAUpD,WAAqB,EAAgB,CACjC,GAAI,GACA,EACA,EACA,EAIJ,IAFA,EAAa,YAAc,MAEtB,EAAI,EAAQ,OAAS,EAAG,GAAK,EAAG,IACjC,EAAS,EAAQ,GACb,EAAC,EAAc,IAAM,EAAc,GAAK,EAAe,KACvD,GAAc,GAAK,EAAe,IAEtC,EAAa,EAAc,GAC3B,EAAQ,EAAa,IAErB,EAAa,YACb,EAAa,KAAK,EAAO,GAAI,EAAO,GAAI,EAAO,GAAI,EAAO,IAC1D,EAAa,UAAY,uBAAyB,EAAQ,IAC1D,EAAa,OACb,EAAa,SAET,EAAI,EAAc,IAClB,GAAc,IAAM,GAYhC,WAA8B,EAAM,CAChC,GAAI,GACA,EACA,EACA,EAAmB,EACnB,EAAsB,GACtB,EACA,EAAiB,GAErB,IAAK,EAAI,EAAQ,OAAS,EAAG,GAAK,EAAG,IACjC,EAAoB,GAAK,EAI7B,IADA,EAAI,EACG,EAAK,EAAK,OAAS,KACtB,AAAI,EAAK,EAAI,KAAO,KAChB,GAAS,EAAU,GACnB,EAAoB,KACpB,KAEJ,EAAE,EAKN,IADA,EAAkB,EAAQ,GAAG,GAAK,EAAQ,GAAG,GACxC,EAAI,EAAQ,OAAS,EAAG,GAAK,EAAG,IACjC,EAAe,GAAK,EAAoB,GAAK,EAAkB,IAGnE,MAAO,GAGX,WAAmB,EAAK,CACpB,GAAI,GAAI,EACJ,EAAc,EAAQ,GAAG,GACzB,EAAe,EAAQ,GAAG,GAC1B,EAAgB,KAAK,MAAM,EAAE,GAC7B,EAAa,GAAI,GAAM,EAAI,EAAI,EAAI,GAAK,EACxC,EAAc,KAAK,MAAM,EAAY,GACrC,EAAW,KAAK,MAAM,KAAK,MAAM,EAAI,GAAK,GAE9C,MAAO,GAAc,EAAW,EAUpC,WAAiB,EAAY,CACzB,GAAI,GACA,EAAa,EAAW,aAAa,EAAG,EAAG,EAAG,GAGlD,MAAK,IACD,GAAgB,EAAW,aAAa,EAAG,EAAG,EAAG,IAGrD,EAAc,EAAW,gBAAgB,EAAG,GAE5C,EAAmB,EAAY,KAAM,EAAW,KAAM,EAAc,MACpE,EAAgB,EAET,EAIX,WAA4B,EAAQ,EAAO,EAAO,CAC9C,GAAI,GACJ,GAAI,EAAM,QAAU,EAAM,OACtB,MAAO,MAGX,IADA,EAAI,EACG,EAAK,EAAM,OAAS,KAAO,CAC9B,GAAI,GAAY,GAAM,EAAI,GAAK,EAAM,EAAI,EAAI,GAAK,EAAM,EAAI,EAAI,IAAM,EAClE,EAAY,GAAM,EAAI,GAAK,EAAM,EAAI,EAAI,GAAK,EAAM,EAAI,EAAI,IAAM,EAClE,EAAO,EAAU,EAAQ,EAAW,IACxC,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,EAAI,GAAK,EACpB,EAAO,EAAI,EAAI,GAAK,EACpB,EAAO,EAAI,EAAI,GAAK,IACpB,EAAE,GASV,WAAiB,EAAO,CACpB,MAAQ,GAAS,GAAS,IAAQ,IAAS,IAS/C,WAAmB,EAAO,CACtB,MAAQ,GAAQ,EAAQ,YAAe,IAAM,EAGjD,WAAyB,EAAY,CACjC,SAAa,UAAU,EAAW,OAAQ,EAAG,EAAG,EAAG,GAC5C,EAGX,MAAO,MCxSJ,WAAe,EAAQ,EAAS,EAAmB,CACtD,GAAI,GACA,EAAoB,GAAqB,EAAQ,YACjD,EAAO,EAAQ,aACf,EAAe,EAGnB,KAAK,gBAAkB,SAAS,EAAO,CACnC,EAAe,GAGnB,KAAK,QAAU,SAAS,EAAO,CAC3B,AAAI,GAAK,GAAS,GAAS,GACvB,GAAK,KAAK,MAAQ,IAI1B,KAAK,KAAO,SAAS,EAAY,EAAM,EAAS,CAC5C,EAAa,GAAc,EAC3B,EAAO,GAAQ,GACf,EAAS,EAAQ,qBACjB,EAAO,OAAS,EAChB,EAAO,aAAa,MAAQ,EACxB,GACA,GAAO,KAAO,IAElB,EAAO,QAAQ,GACf,EAAK,QAAQ,GAET,GACA,GAAO,QAAU,GAGrB,EAAO,SAGX,KAAK,KAAO,UAAW,CACnB,GAAQ,QAWT,WAAsB,EAAS,EAAS,EAAU,CACrD,KAAK,QAAU,EACf,KAAK,QAAU,EACf,KAAK,OAAS,EACd,KAAK,WAAa,GAClB,KAAK,UAAY,EAGrB,EAAa,UAAU,WAAa,SAAS,EAAK,EAAO,CAErD,GAAI,GAAU,GAAI,gBAClB,EAAQ,KAAK,MAAO,EAAK,IACzB,EAAQ,aAAe,cAEvB,GAAI,GAAS,KAEb,EAAQ,OAAS,UAAW,CAExB,EAAO,QAAQ,gBACX,EAAQ,SACR,SAAS,EAAQ,CACb,GAAI,CAAC,EAAQ,CACT,MAAM,6BAA+B,GACrC,OAEJ,EAAO,WAAW,GAAS,EACvB,EAAE,EAAO,WAAa,EAAO,QAAQ,QACrC,EAAO,OAAO,EAAO,aAG7B,SAAS,EAAO,CACZ,QAAQ,MAAM,wBAAyB,MAKnD,EAAQ,QAAU,UAAW,CACzB,MAAM,4BAGV,EAAQ,QAGZ,EAAa,UAAU,KAAO,UAAW,CACrC,OAAS,GAAI,EAAG,EAAI,KAAK,QAAQ,OAAQ,EAAE,EACvC,KAAK,WAAW,KAAK,QAAQ,GAAI,ICrGlC,GAAM,GAAS,UAAY,CAE9B,GAAI,GAAS,GACT,EACA,EACA,EACA,EAAO,EAGX,EAAO,KAAO,SAAU,EAAe,CACnC,OAAO,aAAe,OAAO,cAAgB,OAAO,mBAChD,OAAO,cACP,GAAU,GAAI,cACd,EAAa,EAAQ,aACrB,EAAW,QAAQ,EAAQ,cAG/B,GAAI,GAAe,GAAI,GACnB,EACA,CAAC,kCACD,GAEJ,EAAO,EACP,EAAa,QAGjB,WAAyB,EAAY,CACjC,EAAY,GAAI,GAAM,EAAW,GAAI,EAAS,GAC9C,EAAU,QAAQ,GAGtB,EAAO,KAAO,UAAY,CACtB,AAAI,MAAO,IAAc,aACrB,EAAU,KAAK,KAAM,KAI7B,EAAO,UAAY,SAAU,EAAK,CAC9B,AAAI,GAAK,GAAO,GAAO,GACnB,GAAO,EACP,EAAU,QAAQ,KAI1B,EAAO,QAAU,UAAY,CACzB,KAGJ,YAAmB,CACf,GAAI,GAAY,IAChB,AAAI,GAAa,EACb,IAAQ,EACR,EAAO,UAAU,GACjB,WAAW,EAAS,MAEpB,EAAU,OAIlB,MAAO,MC5DJ,GAAM,GAAgB,UAAW,CAEpC,GAAI,GAAS,GACT,EACA,EAAQ,EACR,EAAW,EACX,EACA,EACA,EAAqB,IAEzB,SAAO,KAAO,SAAS,EAAc,EAAO,EAAQ,CAChD,EAAI,EACJ,EAAI,EACJ,EAAa,EAAa,WAAW,OAGzC,EAAO,YAAc,SAAS,EAAY,CACtC,GAAI,GAAY,EAEhB,EAAW,QAAQ,SAAS,EAAa,CACrC,AAAI,EAAY,GACZ,GAAY,KAIpB,AAAI,GAAK,EACL,GAAY,EACL,GAAK,GACZ,IAAY,GAIZ,EAAqB,GACrB,IAAY,EACZ,EAAQ,GAGR,EAAI,GACJ,GAAW,UAAY,sBAAwB,EAAQ,IACvD,EAAW,yBAA2B,SACtC,EAAW,SAAS,EAAG,EAAG,EAAG,GAC7B,EAAW,yBAA2B,eAI1C,AAAI,IAAO,EACP,GAAS,IAET,EAAQ,EAEZ,AAAI,EAAI,EACJ,GAAY,GAEZ,EAAW,GAIZ,KC3DJ,GAAM,GAAO,UAAY,CAE5B,GAAI,GAAS,GACT,EAAS,GACT,EACA,EACA,EAAY,IACZ,EAAa,IAEjB,EAAO,WAAa,UAAY,CAE5B,OAAO,aAAe,OAAO,cAAgB,OAAO,mBAChD,OAAO,cACP,GAAU,GAAI,cACd,EAAa,EAAQ,aACrB,EAAW,QAAQ,EAAQ,cAG/B,GAAI,GAAe,GAAI,GACnB,EACA,CACI,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,iCACA,iCACA,iCACA,iCACA,iCACA,iCACA,kCAEJ,GAGJ,EAAa,QAGjB,WAAyB,EAAY,CAEjC,EAAO,WAAa,EAAwB,EAAY,EAAG,GAC3D,EAAO,WAAa,EAAwB,EAAY,EAAG,GAC3D,EAAO,UAAY,EAAwB,EAAY,EAAG,IAG9D,WAAiC,EAAY,EAAO,EAAK,CACrD,GAAI,GACA,EACA,EAAW,GAAI,GAEnB,IAAK,EAAI,EAAO,GAAK,EAAK,IACtB,EAAW,GAAI,GAAM,EAAW,GAAI,EAAS,GAC7C,EAAS,SAAS,GAGtB,MAAO,GAUX,EAAO,kBAAoB,SAAU,EAAO,EAAQ,CAChD,EAAY,EACZ,EAAa,GAGjB,EAAO,QAAU,SAAU,EAAO,CAC9B,EAAW,KAAK,MAAQ,GAI5B,EAAO,SAAW,SAAU,EAAY,CACpC,GAAI,GAAiB,GACjB,EAAiB,GACjB,EAAY,GAEhB,EAAW,QAAQ,SAAU,EAAa,EAAG,CACzC,AAAI,GAAK,GACL,GAAU,UAAY,GACtB,EAAU,OAAS,EAAc,IACjC,EAAU,IAAM,EAA4B,IAE5C,GAAK,GACL,GAAe,UAAY,GAC3B,EAAe,OAAS,EAAc,IACtC,EAAe,IAAM,EAA4B,IAEjD,GAAK,GACL,GAAe,UAAY,GAC3B,EAAe,OAAS,EAAc,IACtC,EAAe,IAAM,EAA4B,MAIzD,AAAI,EAAU,UACV,EAAO,WAAW,QAAQ,EAAU,OAAQ,EAAU,IAAI,EAAG,EAAU,IAAI,GACxE,AAAI,EAAe,UACtB,EAAO,YAAY,QAAQ,EAAe,OAAQ,EAAe,IAAI,EAAG,EAAe,IAAI,GACpF,EAAe,WACtB,EAAO,YAAY,QAAQ,EAAe,OAAQ,EAAe,IAAI,EAAG,EAAe,IAAI,IAWnG,WAAqC,EAAG,CACpC,GAAI,GAAG,EAEP,MAAI,IAAK,EACL,EAAI,GACD,AAAI,GAAK,EACZ,EAAI,EAEJ,EAAI,EAGR,AAAI,EAAI,GAAM,EACV,EAAI,GACD,AAAK,GAAI,GAAK,GAAM,EACvB,EAAI,EAEJ,EAAI,EAGD,CACH,EAAG,EACH,EAAG,GAIX,MAAO,MAQX,YAAoB,CAChB,GAAI,GAAS,GACT,EAAY,GAEhB,KAAK,SAAW,SAAU,EAAM,CAC5B,EAAO,KAAK,IAGhB,KAAK,QAAU,SAAU,EAAQ,EAAG,EAAG,CACnC,GAAI,GAEJ,AAAK,GACD,GAAc,EAAO,KAAK,MAAM,KAAK,SAAW,EAAO,SACvD,EAAY,QAAQ,GAEpB,EAAY,KAAK,KAAM,KAAM,GAC7B,EAAY,KAIpB,YAAsB,CAClB,EAAY,ICrKb,GAAM,GAAY,UAAW,CAEhC,GAAI,GAAS,GACT,EAAc,GACd,EACA,EACA,EACA,EACA,EACA,EAAkB,GAMtB,EAAO,oBAAsB,UAAW,CAIpC,MAHI,GAAC,OAAO,cAAgB,CAAC,OAAO,oBAGhC,CAAE,WAAU,cACR,UAAU,oBACV,UAAU,iBACV,UAAU,kBAMtB,EAAO,KAAO,SAAS,EAAe,EAAO,EAAQ,EAAgB,CACjE,EAAI,EACJ,EAAI,EACJ,EAAY,EACZ,EAAa,EAAU,WAAW,MAClC,EAAe,OACf,EAAa,KAAK,EAAW,EAAG,GAEhC,EAAI,QAAQ,GAEZ,IACA,EAAe,IAGnB,EAAO,aAAe,UAAW,CAC7B,EAAM,WAGV,EAAO,gBAAkB,SAAS,EAAK,CACnC,GAAI,MAAO,IAAQ,YACf,EAAkB,CAAC,CAAC,MAEpB,OAAO,IAIf,EAAO,eAAiB,SAAS,EAAK,CAClC,GAAI,GAAa,IAAM,EACvB,EAAe,eAAe,IAGlC,YAA8B,CAC1B,GAAI,GAAe,SAAS,cAAc,SAC1C,EAAa,aAAa,KAAM,SAChC,EAAa,aAAa,QAAS,GACnC,EAAa,aAAa,SAAU,GACpC,EAAa,MAAM,QAAU,OAC7B,SAAS,KAAK,YAAY,GAC1B,EAAQ,EAER,EAAM,iBAAiB,UAAW,UAAW,CACzC,AAAK,GAEG,GAAM,WAAa,GACnB,GAAI,EAAM,YAAe,GAAM,WAAa,IAEhD,EAAU,aAAa,QAAS,GAChC,EAAU,aAAa,SAAU,GAEjC,EAAW,UAAU,EAAG,GACxB,EAAW,MAAM,GAAI,GACrB,EAAc,KAEnB,IAEH,EAAM,iBAAiB,OAAQ,UAAW,CACtC,KACD,IAGP,WAAwB,EAAgB,CAGpC,UAAU,aAAa,aAAa,CAAE,MAAO,GAAM,MAAO,KAAS,KAAK,GAAU,CAE9E,EAAM,UAAY,EACC,EAAM,OACN,EAAM,OACF,GACA,MAuC/B,YAAkB,CACd,GAAI,GAEJ,IACA,EAAa,EAAe,QAAQ,EAAY,GAChD,EAAa,YAAY,GACzB,EAAI,SAAS,GACb,sBAAsB,GAG1B,YAAqB,CAEjB,GAAI,CACA,EAAW,UAAU,EAAO,EAAG,EAAG,EAAM,MAAO,EAAM,cAChD,EAAP,CACE,GAAI,EAAE,MAAQ,yBAGV,QAAQ,IAAI,yBAA2B,KAAK,MAAM,YAClD,WAAW,EAAW,QAEtB,MAAM,IAMlB,MAAO,MC1KJ,GAAM,GAAa,UAAW,CAEjC,GAAI,GAAS,GACT,EAAS,GACT,EASJ,EAAO,cAAgB,SAAS,EAAM,EAAI,CACtC,EAAO,KAAK,CAAE,KAAM,EAAM,GAAI,KAGlC,EAAO,MAAQ,UAAW,CACtB,sBAAsB,IAG1B,WAAa,EAAW,CAEpB,GAAI,GACA,EACJ,AAAI,MAAO,IAAc,aACrB,GAAY,GAGhB,EAAY,EAAO,GACnB,EAAU,EAAY,EAElB,EAAU,eAAe,SAAW,EAAU,KAAO,GACrD,GAAU,GAAG,KAAK,MAClB,EAAO,SAGP,EAAI,EAAO,QACX,sBAAsB,GAK9B,MAAO,MCrCX,IAEA,SAAS,cAAc,UAAU,iBAAiB,QAAS,SAAS,EAAG,CACnE,EAAE,iBAEF,AAAI,EAAS,sBACT,UAAS,cAAc,WAAW,UAAU,IAAI,UAChD,SAAS,cAAc,WAAW,UAAU,OAAO,UACnD,WAAW,UAAY,CACnB,SAAS,cAAc,WAAW,UAAU,OAAO,WACpD,KACH,IACA,IACA,EAAI,aACJ,EAAM,KAAK,IACX,WAAW,UAAY,CACnB,EAAW,IACZ,OAEH,UAAS,cAAc,WAAW,UAAU,OAAO,UACnD,SAAS,cAAc,uBAAuB,UAAU,OAAO,aAIvE,SAAS,cAAc,kBAAkB,iBAAiB,QAAS,UAAW,CAC1E,SAAS,cAAc,mBAAmB,UAAU,OAAO,YAG/D,SAAS,cAAc,kBAAkB,iBAAiB,SAAU,UAAW,CAC3E,EAAS,gBAAgB,SAAS,cAAc,kBAAkB,WAGtE,SAAS,cAAc,uBAAuB,iBAAiB,SAAU,UAAW,CAChF,GAAI,GAAM,SAAS,cAAc,uBAAuB,MACxD,SAAS,cAAc,sBAAsB,UAAa,EAC1D,EAAS,eAAe,KAG5B,YAA0B,CACtB,EAAU,QAGd,YAAsB,CAClB,GAAI,GAAS,IACT,EAAY,EAAO,IAAM,mBACzB,EAAY,EAAO,IAAM,cAE7B,SAAS,cAAc,eAAe,UAAa,EACnD,SAAS,cAAc,eAAe,UAAa,EAGvD,YAAqB,CACjB,GAAI,GAAY,SAAS,cAAc,eAAe,UAClD,EAAY,SAAS,cAAc,eAAe,UAEtD,SAAS,cAAc,qBAAqB,UAAY,EACxD,SAAS,cAAc,qBAAqB,UAAY,EAExD,EAAmB,EAAW,GAQlC,WAA4B,EAAG,EAAG,CAC9B,GAAI,GAAW,EAAY,GACvB,EAAW,EAAY,GAC3B,OAAO,SAAS,KAAO,EAAW,IAAM,EAG5C,YAAgC,CAC5B,GAAI,GACA,EACA,EAGJ,GADA,EAAY,OAAO,SAAS,KAAK,MAAM,KACnC,EAAU,SAAW,EACrB,GAAI,CACA,EAAW,EAAY,EAAU,GAAG,OAAO,IAC3C,EAAW,EAAY,EAAU,UAC5B,EAAP,CACE,QAAQ,IAAI,yBAA2B,EAAG,SAIlD,MAAO,CAAC,EAAU,GAGtB,WAAoB,EAAgB,CAChC,GAAI,GAAe,SAAS,cAAc,WACtC,EAAY,OAAO,YACnB,EAAQ,KAAK,IAAI,OAAO,WAAY,EAAY,EAAI,GACpD,EAAS,EAAQ,IACrB,EAAS,KAAK,EAAc,EAAO,EAAQ,GAG/C,YAAyB,CACrB,EAAU,cAAc,EAAG,UAAW,CAClC,SAAS,cAAc,WAAW,UAAU,IAAI,UAChD,SAAS,cAAc,QAAQ,UAAU,IAAI,WAC7C,SAAS,cAAc,qBAAqB,UAAU,OAAO,UAC7D,SAAS,cAAc,YAAY,UAAU,OAAO,UACpD,SAAS,cAAc,mBAAmB,UAAU,OAAO,UAC3D,SAAS,cAAc,YAAY,UAAU,IAAI,YAErD,EAAU,cAAc,KAAM,UAAW,CACrC,SAAS,cAAc,aAAa,UAAU,OAAO,YAEzD,EAAU,cAAc,IAAM,UAAW,CACrC,SAAS,cAAc,aAAa,UAAU,IAAI,YAEtD,EAAU,cAAc,IAAM,UAAW,CACrC,SAAS,cAAc,gBAAgB,UAAU,OAAO,YAE5D,EAAU,cAAc,IAAM,UAAW,CACrC,SAAS,cAAc,gBAAgB,UAAU,IAAI,YAEzD,EAAU,cAAc,KAAO,UAAW,CACtC,SAAS,cAAc,gBAAgB,UAAU,OAAO,YAE5D,EAAU,cAAc,KAAO,UAAW,CACtC,SAAS,cAAc,YAAY,UAAU,IAAI,iBAErD,EAAU,cAAc,IAAO,UAAW,CACtC,SAAS,cAAc,YAAY,UAAU,IAAI,UACjD,EAAS,iBAUjB,WAAqB,EAAK,CACtB,MAAO,QAAO,KAAK,mBAAmB,OAAO,KAGjD,WAAqB,EAAK,CACtB,MAAO,UAAS,mBAAmB,OAAO,KAAK",
  "names": []
}
